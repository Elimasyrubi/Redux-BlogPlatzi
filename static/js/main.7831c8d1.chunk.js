(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{40:function(e,a,t){e.exports=t(72)},45:function(e,a,t){},51:function(e,a,t){},72:function(e,a,t){"use strict";t.r(a);var r={};t.r(r),t.d(r,"traerTodos",(function(){return C}));var n={};t.r(n),t.d(n,"traerTodas",(function(){return K})),t.d(n,"cambioUsuarioId",(function(){return L})),t.d(n,"cambioTitulo",(function(){return Q})),t.d(n,"agregar",(function(){return W})),t.d(n,"editar",(function(){return X})),t.d(n,"cambioCheck",(function(){return Y})),t.d(n,"eliminar",(function(){return Z})),t.d(n,"limpiarForma",(function(){return $}));var o=t(0),c=t.n(o),u=t(22),s=t.n(u),i=(t(45),t(10)),l=t(17),p=function(e){return c.a.createElement("nav",{id:"menu",className:"text-center"},c.a.createElement(i.b,{className:"btn btn-outline-light mr-4",to:"/BlogPlatzi-deploy"},"Usuarios"),c.a.createElement(i.b,{className:"btn btn-outline-light",to:"/tareas"},"Tareas"))},d=t(13),m=t(14),b=t(16),f=t(15),h=t(4),y=(t(51),function(){return c.a.createElement("div",{className:"center"},c.a.createElement("div",{className:"lds-ellipsis"},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null)))}),v=function(e){return c.a.createElement("h2",{className:"center rojo"},e.mensaje)},g=Object(h.b)((function(e){return e.usuariosReducer}))((function(e){return c.a.createElement("table",{className:"tabla "},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Nombre"),c.a.createElement("th",null,"Correo"),c.a.createElement("th",null,"Enlace"))),c.a.createElement("tbody",null,e.usuarios.map((function(e,a){return c.a.createElement("tr",{key:e.id},c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.email),c.a.createElement("td",null,e.website),c.a.createElement("td",null,c.a.createElement(i.b,{to:"/publicaciones/".concat(a)},c.a.createElement("p",{className:"btn btn-outline-secondary"}," Ver "))))}))))})),E=t(3),j=t.n(E),_=t(8),O=t(11),k=t.n(O),x="usuarios_traer_todos",N="usuarios_cargando",w="usuarios_error",C=function(){return function(){var e=Object(_.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:N}),e.prev=1,e.next=4,k.a.get("https://jsonplaceholder.typicode.com/users");case 4:t=e.sent,a({type:x,payload:t.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.message),a({type:w,payload:"Informaci\xf3n de usuario no disponible."});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}()},R=function(e){Object(b.a)(t,e);var a=Object(f.a)(t);function t(){var e;Object(d.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).ponerContenido=function(){return e.props.cargando?c.a.createElement(y,null):e.props.error?c.a.createElement(v,{mensaje:e.props.error}):c.a.createElement(g,null)},e}return Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.usuarios.length||this.props.traerTodos()}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("h1",{className:"mb-4"},"Usuarios"),this.ponerContenido())}}]),t}(o.Component),T=Object(h.b)((function(e){return e.usuariosReducer}),r)(R),I=Object(h.b)((function(e){return e.publicacionesReducer}))((function(e){if(e.com_error)return c.a.createElement(v,{mensaje:e.com_error});if(e.com_cargando&&!e.comentarios.length)return c.a.createElement(y,null);return c.a.createElement("ul",null,c.a.createElement("p",{className:"comentarios_titulo"},"Comentarios"),e.comentarios.map((function(e){return c.a.createElement("li",{key:e.id,className:"comentarios"},c.a.createElement("b",null,c.a.createElement("u",null,e.email)),c.a.createElement("br",null),e.body)})))})),U=t(19),P=t(1),z="publicaciones_actualizar",A=C,D=function(e){return function(){var a=Object(_.a)(j.a.mark((function a(t,r){var n,o,c,u,s,i,l,p;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"publicaciones_cargando"}),n=r().usuariosReducer.usuarios,o=r().publicacionesReducer.publicaciones,c=n[e].id,a.prev=4,a.next=7,k.a.get("https://jsonplaceholder.typicode.com/posts?userId=".concat(c));case 7:u=a.sent,s=u.data.map((function(e){return Object(P.a)({},e,{comentarios:[],abierto:!1})})),i=[].concat(Object(U.a)(o),[s]),t({type:z,payload:i}),l=i.length-1,(p=Object(U.a)(n))[e]=Object(P.a)({},n[e],{publicaciones_key:l}),t({type:"usuarios_traer_todos",payload:p}),a.next=21;break;case 17:a.prev=17,a.t0=a.catch(4),console.log(a.t0.message),t({type:"publicaciones_error",payload:"Publicaciones no disponibles."});case 21:case"end":return a.stop()}}),a,null,[[4,17]])})));return function(e,t){return a.apply(this,arguments)}}()},M=function(e,a){return function(t,r){var n=r().publicacionesReducer.publicaciones,o=n[e][a],c=Object(P.a)({},o,{abierto:!o.abierto}),u=Object(U.a)(n);u[e]=Object(U.a)(n[e]),u[e][a]=c,t({type:z,payload:u})}},B=function(e,a){return function(){var t=Object(_.a)(j.a.mark((function t(r,n){var o,c,u,s,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"comentarios_cargando"}),o=n().publicacionesReducer.publicaciones,c=o[e][a],t.prev=3,t.next=6,k.a.get("https://jsonplaceholder.typicode.com/comments?postId=".concat(c.id));case 6:u=t.sent,s=Object(P.a)({},c,{comentarios:u.data}),(i=Object(U.a)(o))[e]=Object(U.a)(o[e]),i[e][a]=s,r({type:"comentarios_actualizar",payload:i}),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),console.log(t.t0.message),r({type:"comentarios_error",payload:"Comentarios no disponibles."});case 18:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(e,a){return t.apply(this,arguments)}}()},S=function(e){Object(b.a)(t,e);var a=Object(f.a)(t);function t(){var e;Object(d.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).ponerUsuario=function(){var a=e.props,t=a.match.params.key,r=a.usuariosReducer;if(r.error)return c.a.createElement(v,{mensaje:r.error});if(!r.usuarios.length||r.cargando)return c.a.createElement(y,null);var n=r.usuarios[t].name;return c.a.createElement("h1",{className:"pub_usuario"},"Publicaciones de ",n)},e.ponerPublicaciones=function(){var a=e.props,t=a.usuariosReducer,r=a.usuariosReducer.usuarios,n=a.publicacionesReducer,o=a.publicacionesReducer.publicaciones,u=a.match.params.key;if(r.length&&!t.error){if(n.cargando)return c.a.createElement(y,null);if(n.error)return c.a.createElement(v,{mensaje:n.error});if(o.length&&"publicaciones_key"in r[u]){var s=r[u].publicaciones_key;return e.mostrarInfo(o[s],s)}}},e.mostrarInfo=function(a,t){return a.map((function(a,r){return c.a.createElement("div",{className:"centrar"},c.a.createElement("div",{key:a.id,className:"pub_container",onClick:function(){return e.mostrarComentarios(t,r,a.comentarios)}},c.a.createElement("h2",{className:"pub_titulo"},a.title),c.a.createElement("p",null,a.body),a.abierto?c.a.createElement(I,{comentarios:a.comentarios}):""))}))},e.mostrarComentarios=function(a,t,r){e.props.abrirCerrar(a,t),r.length||e.props.traerComentarios(a,t)},e}return Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(_.a)(j.a.mark((function e(){var a,t,r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props,t=a.usuariosTraerTodos,r=a.match.params.key,n=a.publicacionesTraerPorUsuario,this.props.usuariosReducer.usuarios.length){e.next=4;break}return e.next=4,t();case 4:if(!this.props.usuariosReducer.error){e.next=6;break}return e.abrupt("return");case 6:if("publicaciones_key"in this.props.usuariosReducer.usuarios[r]){e.next=9;break}return e.next=9,n(r);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.a.createElement("div",null,this.ponerUsuario(),this.ponerPublicaciones())}}]),t}(o.Component),F={usuariosTraerTodos:A,publicacionesTraerPorUsuario:D,abrirCerrar:M,traerComentarios:B},G=Object(h.b)((function(e){return{usuariosReducer:e.usuariosReducer,publicacionesReducer:e.publicacionesReducer}}),F)(S),J=t(24),V="tareas_traer_todas",q="tareas_guardada",H="tareas_limpiar",K=function(){return function(){var e=Object(_.a)(j.a.mark((function e(a){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"tareas_cargando"}),e.prev=1,e.next=4,k.a.get("https://jsonplaceholder.typicode.com/todos");case 4:t=e.sent,r={},t.data.map((function(e){return r[e.userId]=Object(P.a)({},r[e.userId],Object(J.a)({},e.id,Object(P.a)({},e)))})),a({type:V,payload:r}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.message),a({type:"tareas_error",payload:"Tareas no disponibles."});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}()},L=function(e){return function(a){a({type:"tareas_cambio_usuario_id",payload:e})}},Q=function(e){return function(a){a({type:"tareas_cambio_titulo",payload:e})}},W=function(e){return function(){var a=Object(_.a)(j.a.mark((function a(t){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"tareas_cargando"}),a.prev=1,a.next=4,k.a.post("https://jsonplaceholder.typicode.com/todos",e);case 4:t({type:q}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),console.log(a.t0.message),t({type:"tareas_error",payload:"Servicio no disponible en este momento."});case 11:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()},X=function(e){return function(){var a=Object(_.a)(j.a.mark((function a(t){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"tareas_cargando"}),a.prev=1,a.next=4,k.a.put("https://jsonplaceholder.typicode.com/todos/".concat(e.id),e);case 4:t({type:q}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),console.log(a.t0.message),t({type:"tareas_error",payload:"Servicio no disponible en este momento."});case 11:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()},Y=function(e,a){return function(t,r){var n=r().tareasReducer.tareas,o=n[e][a],c=Object(P.a)({},n);c[e]=Object(P.a)({},n[e]),c[e][a]=Object(P.a)({},n[e][a],{completed:!o.completed}),t({type:"tareas_actualizar",payload:c})}},Z=function(e){return function(){var a=Object(_.a)(j.a.mark((function a(t){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"tareas_cargando"}),a.prev=1,a.next=4,k.a.delete("https://jsonplaceholder.typicode.com/todos/".concat(e));case 4:t({type:V,payload:{}}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),console.log(a.t0.message),t({type:"tareas_error",payload:"Servicio no disponible en este momento."});case 11:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()},$=function(){return function(e){e({type:H})}},ee=function(e){Object(b.a)(t,e);var a=Object(f.a)(t);function t(){var e;Object(d.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).mostrarContenido=function(){var a=e.props,t=a.tareas,r=a.cargando,n=a.error;return r?c.a.createElement(y,null):n?c.a.createElement(v,{mensaje:n}):Object.keys(t).map((function(a){return c.a.createElement("div",{key:a},c.a.createElement("h2",null,"Usuario ",a),c.a.createElement("div",{className:"contenedor_tareas"},e.ponerTareas(a)))}))},e.ponerTareas=function(a){var t=e.props,r=t.tareas,n=t.cambioCheck,o=t.eliminar,u=Object(P.a)({},r[a]);return Object.keys(u).map((function(e){return c.a.createElement("div",{key:e},c.a.createElement("div",{className:"tareas_item"},c.a.createElement("div",null,c.a.createElement("input",{className:"mr-2",type:"checkbox",defaultChecked:u[e].completed,onChange:function(){return n(a,e)}}),u[e].title),c.a.createElement("div",{className:"tareas_botones"},c.a.createElement(i.b,{className:"m_left btn btn-outline-secondary",to:"/tareas/guardar/".concat(a,"/").concat(e)},"Editar"),c.a.createElement("button",{className:"m_left btn btn-outline-secondary",onClick:function(){return o(e)}},"Eliminar"))))}))},e}return Object(m.a)(t,[{key:"componentDidMount",value:function(){Object.keys(this.props.tareas).length||this.props.traerTodas()}},{key:"componentDidUpdate",value:function(){var e=this.props,a=e.tareas,t=e.cargando,r=e.traerTodas;Object.keys(a).length||t||r()}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"text-right"},c.a.createElement(i.b,{to:"/tareas/guardar",className:"btn btn-outline-secondary"},"Agregar Tarea")),this.mostrarContenido())}}]),t}(o.Component),ae=Object(h.b)((function(e){return e.tareasReducer}),n)(ee),te=function(e){Object(b.a)(t,e);var a=Object(f.a)(t);function t(){var e;Object(d.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).cambioUsuarioId=function(a){e.props.cambioUsuarioId(a.target.value)},e.cambioTitulo=function(a){e.props.cambioTitulo(a.target.value)},e.guardar=function(){var a=e.props,t=a.match.params,r=t.usu_id,n=t.tar_id,o=a.tareas,c=a.usuario_id,u=a.titulo,s=a.agregar,i=a.editar,l={userId:c,title:u,completed:!1};if(r&&n){var p=o[r][n];i(Object(P.a)({},l,{completed:p.completed,id:p.id}))}else s(l)},e.deshabilitar=function(){var a=e.props,t=a.usuario_id,r=a.titulo;return!!a.cargando||(!t||!r)},e.mostrarAccion=function(){var a=e.props,t=a.error;return a.cargando?c.a.createElement(y,null):t?c.a.createElement(v,{mensaje:t}):void 0},e}return Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,a=e.match.params,t=a.usu_id,r=a.tar_id,n=e.tareas,o=e.cambioUsuarioId,c=e.cambioTitulo,u=e.limpiarForma;if(t&&r){var s=n[t][r];o(s.userId),c(s.title)}else u()}},{key:"render",value:function(){return c.a.createElement("div",{className:"card tarjeta"},this.props.regresar?c.a.createElement(l.a,{to:"/tareas"}):"",c.a.createElement("h1",{className:"card-header"},"Guardar Tarea"),c.a.createElement("div",{className:"p-4"},"Usuario id:",c.a.createElement("input",{className:"form-control",type:"number",value:this.props.usuario_id,onChange:this.cambioUsuarioId}),c.a.createElement("br",null),c.a.createElement("br",null),"T\xedtulo:",c.a.createElement("input",{className:"form-control",value:this.props.titulo,onChange:this.cambioTitulo}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("div",{className:"text-center"},c.a.createElement("button",{className:"btn btn-success guardar",disabled:this.deshabilitar(),onClick:this.guardar},"Guardar"))),this.mostrarAccion())}}]),t}(o.Component),re=Object(h.b)((function(e){return e.tareasReducer}),n)(te),ne=function(e){return c.a.createElement(i.a,null,c.a.createElement(p,null),c.a.createElement("div",{id:"margen"},c.a.createElement(l.b,{exact:!0,path:"/BlogPlatzi-deploy",component:T}),c.a.createElement(l.b,{exact:!0,path:"/tareas",component:ae}),c.a.createElement(l.b,{exact:!0,path:"/publicaciones/:key",component:G}),c.a.createElement(l.b,{exact:!0,path:"/tareas/guardar",component:re}),c.a.createElement(l.b,{exact:!0,path:"/tareas/guardar/:usu_id/:tar_id",component:re})))},oe=(t(71),t(18)),ce=t(39),ue={usuarios:[],cargando:!1,error:""},se={publicaciones:[],cargando:!1,error:"",com_cargando:!1,com_error:""},ie={tareas:{},cargando:!1,error:"",usuario_id:"",titulo:"",regresar:!1},le=Object(oe.c)({usuariosReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case x:return Object(P.a)({},e,{usuarios:a.payload,cargando:!1,error:""});case N:return Object(P.a)({},e,{cargando:!0});case w:return Object(P.a)({},e,{error:a.payload,cargando:!1});default:return e}},publicacionesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case z:return Object(P.a)({},e,{publicaciones:a.payload,cargando:!1,error:""});case"publicaciones_cargando":return Object(P.a)({},e,{cargando:!0});case"publicaciones_error":return Object(P.a)({},e,{error:a.payload,cargando:!1});case"comentarios_actualizar":return Object(P.a)({},e,{publicaciones:a.payload,com_cargando:!1,com_error:""});case"comentarios_cargando":return Object(P.a)({},e,{com_cargando:!0});case"comentarios_error":return Object(P.a)({},e,{com_error:a.payload,com_cargando:!1});default:return e}},tareasReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case V:return Object(P.a)({},e,{tareas:a.payload,cargando:!1,error:"",regresar:!1});case"tareas_cargando":return Object(P.a)({},e,{cargando:!0});case"tareas_error":return Object(P.a)({},e,{error:a.payload,cargando:!1});case"tareas_cambio_usuario_id":return Object(P.a)({},e,{usuario_id:a.payload});case"tareas_cambio_titulo":return Object(P.a)({},e,{titulo:a.payload});case q:return Object(P.a)({},e,{tareas:{},cargando:!1,error:"",regresar:!0,usuario_id:"",titulo:""});case"tareas_actualizar":return Object(P.a)({},e,{tareas:a.payload});case H:return Object(P.a)({},e,{usuario_id:"",titulo:""});default:return e}}}),pe=Object(oe.d)(le,{},Object(oe.a)(ce.a));s.a.render(c.a.createElement(h.a,{store:pe},c.a.createElement(ne,null)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.7831c8d1.chunk.js.map